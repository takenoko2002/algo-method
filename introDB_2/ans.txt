
5-1
select * from students where age >= 18;

5-2
select
floor(avg(score)) AS '平均点',
max(score) AS '最高点'
from grades;

5-3
select * from prefectures where name like '_%山%';

5-4
-----------------------------------------------------------------------------------------------------------------------------------------------------------
SUBSTR(name, -1)でnameの末尾を取得し、GROUP BY でまとめる
-----------------------------------------------------------------------------------------------------------------------------------------------------------
select SUBSTR(name, -1) AS '分類',count(*) AS '総数' from prefectures group by SUBSTR(name, -1);

5-5
select choice AS '選択肢',count(*) AS '得票数' from votes group by choice order by count(*) DESC,choice ASC;

5-6

WITH
    population_tokyo
AS (
    -- ここに適切なクエリを記述してください
    SELECT population FROM prefectures WHERE name = '東京都'
)

select prefectures.* from prefectures,population_tokyo where prefectures.population > (population_tokyo.population /2 )
order by population DESC;

5-5
SELECT 
ROW_NUMBER() OVER(ORDER BY score DESC, id ASC) '順位',
name AS '名前',
score AS 'スコア'
FROM results DESC LIMIT 20 OFFSET 40 ;

5-6
UPDATE grades SET score = 25 WHERE problem_id = 1;
SELECT name AS '名前', sum(score) AS '合計点' FROM grades GROUP BY name;

5-7
-----------------------------------------------------------------------------------------------------------------------------------------------------------
副問合せの中に副問合せを書いても可
SELECT
    *
FROM
    posts
WHERE
    author = (
        SELECT author FROM posts WHERE faves = (
            SELECT MAX(faves) FROM posts
        )
    )
ORDER BY
    DATE(date) DESC
LIMIT 5;
-----------------------------------------------------------------------------------------------------------------------------------------------------------

WITH
    fav_author
AS (
    -- ここに適切なクエリを記述してください
    SELECT author,max(faves) FROM posts
)

select posts.* from posts,fav_author where fav_author.author = posts.author
order by date DESC LIMIT 5 OFFSET 0;


6-1
-----------------------------------------------------------------------------------------------------------------------------------------------------------
答え 4

6-2
-----------------------------------------------------------------------------------------------------------------------------------------------------------
答え 2 ,1 ,1

6-3
-----------------------------------------------------------------------------------------------------------------------------------------------------------
答え 3 ,1

6-4
-----------------------------------------------------------------------------------------------------------------------------------------------------------
外部キーは、所属を表す
-----------------------------------------------------------------------------------------------------------------------------------------------------------
答え　3

6-5
-----------------------------------------------------------------------------------------------------------------------------------------------------------
答え　3,2

6-6
-----------------------------------------------------------------------------------------------------------------------------------------------------------
外部キーと1対多
-----------------------------------------------------------------------------------------------------------------------------------------------------------
答え　2

6-7
-----------------------------------------------------------------------------------------------------------------------------------------------------------
多対多
-----------------------------------------------------------------------------------------------------------------------------------------------------------
答え　NO , YES , YES

6-8
-----------------------------------------------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------------------------------
答え　2

